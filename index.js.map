{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52986014-6c248434ffeaf5f82fd167a25';\n\nexport function getImagesByQuery(query) {\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    };\n\n    return axios \n    .get(BASE_URL, { params })\n    .then(response => response.data)\n    .catch(error => {\n        throw error;\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('[data-loader]');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(imagesArray) {\n\n    const markup = imagesArray\n    .map(img => {\n        return `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${img.webformatURL}\"\n                    alt=\"${img.tags}\"\n                />\n            </a>\n\n            <ul class=\"stats\">\n                <li class=\"stats-item\">\n                    <span class=\"stats-label\">Likes</span>\n                    <span class=\"stats-value\">${img.likes}</span>\n                </li>\n                <li class=\"stats-item\">\n                    <span class=\"stats-label\">Views</span>\n                    <span class=\"stats-value\">${img.views}</span>\n                </li>\n                <li class=\"stats-item\">\n                    <span class=\"stats-label\">Comments</span>\n                    <span class=\"stats-value\">${img.comments}</span>\n                </li>\n                <li class=\"stats-item\">\n                    <span class=\"stats-label\">Downloads</span>\n                    <span class=\"stats-value\">${img.downloads}</span>\n                </li>\n            </ul>\n        </li>\n        `\n    })\n    .join('');\n\n    galleryList.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n\n}\n\nexport function clearGallery() {\n    galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n    loader.classList.add('is-hidden');\n}","import { getImagesByQuery } from \"./js/pixabay-api.js\";\n\nimport {createGallery, clearGallery, showLoader, hideLoader,} from './js/render-functions.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', handleSearchSubmit);\n\nfunction handleSearchSubmit(event) {\n    event.preventDefault();\n\n    const searchText = event.currentTarget.elements['search-text'].value.trim();\n\n    if(searchText === '') {\n        iziToast.error({\n            message: 'Please enter a search query.',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(searchText)\n    .then(data => {\n\n        if(!data.hits || data.hits.length === 0){\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                icon: '',\n                class: 'toast-error', \n            });\n            return;\n        }\n\n        createGallery(data.hits);\n    })\n    .catch(err => {\n        console.error(err);\n        iziToast.error({\n            message: 'Something went wrong. Please try again later.',\n            position: 'topRight',\n            icon: '',\n            class: 'toast-error',\n        });\n    })\n    .finally(() => {\n        hideLoader();\n    });\n\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","error","galleryList","loader","lightbox","SimpleLightbox","createGallery","imagesArray","markup","img","clearGallery","showLoader","hideLoader","form","handleSearchSubmit","event","searchText","iziToast","data","err"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,EAEI,OAAOE,EACN,IAAIL,EAAU,CAAE,OAAAI,EAAQ,EACxB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACZ,MAAMA,CACd,CAAK,CACL,CCjBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,eAAe,EAE/CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAa,CAEvC,MAAMC,EAASD,EACd,IAAIE,GACM;AAAA;AAAA,4CAE6BA,EAAI,aAAa;AAAA;AAAA;AAAA,2BAGlCA,EAAI,YAAY;AAAA,2BAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAOaA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,gDAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,gDAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,gDAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,SAKxD,EACA,KAAK,EAAE,EAERP,EAAY,mBAAmB,YAAaM,CAAM,EAElDJ,EAAS,QAAO,CAEpB,CAEO,SAASM,GAAe,CAC3BR,EAAY,UAAY,EAC5B,CAEO,SAASS,GAAa,CACzBR,EAAO,UAAU,OAAO,WAAW,CACvC,CAEO,SAASS,GAAa,CACzBT,EAAO,UAAU,IAAI,WAAW,CACpC,CCzDA,MAAMU,EAAO,SAAS,cAAc,MAAM,EAE1CA,EAAK,iBAAiB,SAAUC,CAAkB,EAElD,SAASA,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAErE,GAAGC,IAAe,GAAI,CAClBC,EAAS,MAAM,CACX,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDP,IACAC,IAEAf,EAAiBoB,CAAU,EAC1B,KAAKE,GAAQ,CAEV,GAAG,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAE,CACpCD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,KAAM,GACN,MAAO,aACvB,CAAa,EACD,MACH,CAEDX,EAAcY,EAAK,IAAI,CAC/B,CAAK,EACA,MAAMC,GAAO,CACV,QAAQ,MAAMA,CAAG,EACjBF,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,WACV,KAAM,GACN,MAAO,aACnB,CAAS,CACT,CAAK,EACA,QAAQ,IAAM,CACXL,GACR,CAAK,CAEL"}